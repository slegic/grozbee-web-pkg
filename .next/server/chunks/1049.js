"use strict";exports.id=1049,exports.ids=[1049],exports.modules={41400:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>M});var a=r(8732);r(82015);var n=r(66099),o=r(57563),p=r.n(o),l=r(30675),d=r.n(l),s=r(27635),c=r.n(s),x=r(42455),h=r(61129),u=r(59236),m=r(31637),g=r(88455),A=r(22544),y=r(98569),v=r(48896),j=r(42893),f=r(44233),b=e([g,j]);[g,j]=b.then?(await b)():b;let S=(0,n.styled)(x.jB)(({theme:e})=>({background:(0,n.alpha)(e.palette.primary.main,.2),padding:"20px 24px",marginTop:"10px",justifyContent:"space-between"})),_=(0,n.styled)(p())(({theme:e})=>({background:e.palette.neutral[100],padding:"11px",borderRadius:"50%"})),M=({deliveryManInfo:e})=>{let t=(0,g.useTheme)(),r=(0,f.useRouter)(),{configData:i}=(0,A.useSelector)(e=>e.configData),o=(0,n.alpha)(t.palette.moduleTheme.food,.5),p=`${e?.f_name} ${e?.l_name}`;return(0,a.jsxs)(S,{direction:"row",children:[(0,a.jsxs)(n.Stack,{direction:"row",spacing:1.5,children:[(0,a.jsx)(d(),{src:e?.image_full_url}),(0,a.jsxs)(n.Stack,{children:[(0,a.jsx)(c(),{children:p}),(0,a.jsxs)(c(),{fontSize:"13px",color:t.palette.neutral[500],children:[(0,a.jsx)("span",{style:{paddingRight:"2px"},children:(0,a.jsx)(m.A,{style:{width:"14px",height:"14px",color:o}})}),e?.avg_rating]})]})]}),(0,a.jsxs)(n.Stack,{direction:"row",spacing:1.5,children:[(0,a.jsx)(y.A,{phone:e?.phone,children:(0,a.jsx)(_,{children:(0,a.jsx)(h.A,{color:"primary",style:{width:"20px",height:"20px"}})})}),(0,a.jsx)(_,{onClick:()=>{(0,v.g)()?r.push({pathname:"/profile",query:{page:"inbox",type:"delivery_man",id:e?.id,routeName:"delivery_man_id",chatFrom:"true",deliveryman_name:deliveryManData?.f_name,deliveryManData_image:deliveryManData?.image}}):j.default.error("uyrttgr")},children:(0,a.jsx)(u.A,{style:{width:"20px",height:"20px",color:o}})})]})]})};i()}catch(e){i(e)}})},43526:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>T});var a=r(8732),n=r(82015),o=r(73981),p=r(42455),l=r(66099),d=r(63499),s=r(27635),c=r.n(s),x=r(71764),h=r.n(x),u=r(64537),m=r.n(u),g=r(13677),A=r(88455),y=r(57037),v=r(49785),j=r(1365),f=r(23977),b=r(41400),S=r(44572),_=r(80382),M=r(30225),w=r(48896),C=r(38944),k=r(57747),$=r(73916),L=r(48910),B=r(44233),z=r(70552),W=r(22544),D=e([g,A,f,b,_,M]);[g,A,f,b,_,M]=D.then?(await D)():D;let I=(0,l.styled)(l.Box)(({theme:e})=>({borderLeft:"1px dashed",borderColor:(0,l.alpha)(e.palette.neutral[500],.5),height:"81px",marginLeft:"8px"})),T=e=>{let t=(0,A.useTheme)(),r=(0,B.useRouter)(),i=(0,W.useDispatch)();(0,d.A)(t.breakpoints.down("sm"));let[s,x]=(0,n.useState)(null),{sideDrawerOpen:u,orderId:D,setSideDrawerOpen:T,phoneOrEmail:O}=e,[E,R]=(0,n.useState)(1),U=(0,w.W)(),{error:F,refetch:G,data:Z,isLoading:V,isRefetching:P}=(0,_.A)(D,O,U,e=>{x(e)});(0,n.useEffect)(()=>{D&&G()},[D]),(0,n.useEffect)(()=>{let e=setInterval(()=>{D&&s&&s?.order_status!=="delivered"&&G()},1e4);return()=>{clearInterval(e)}},[G]);let H=()=>{Z?.order_status==="pending"?R(1):Z?.order_status==="confirmed"?R(2):Z?.order_status==="picked_up"?R(3):Z?.order_status==="delivered"&&R(4)};(0,n.useEffect)(()=>{H()},[E,Z,D]);let X=[{label:"Order Placed",time:Z?.pending},{label:"Order Confirmed",time:Z?.confirmed},{label:"On the Way",time:Z?.picked_up},{label:"Delivered",time:Z?.delivered}],K=()=>{x(null),T(!1)};return(0,a.jsxs)(o.A,{anchor:"right",open:u,onClose:K,variant:"temporary",maxWidth:"420px",width:"100%",height:"100vh",sx:{position:"relative"},children:[(0,a.jsx)(l.Stack,{direction:"row",spacing:1,alignItems:"center",sx:{position:"absolute",top:"1rem",right:".5rem"},children:(0,a.jsx)($.$G,{onClick:K,children:(0,a.jsx)(L.A,{fontSize:"16px"})})}),s&&!V&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.jB,{padding:"30px 24px 0px 24px",children:[(0,a.jsx)(l.Stack,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:"10px",children:(0,a.jsxs)(c(),{fontSize:"16px",fontWeight:"600",textAlign:"center",children:["Order ID:"," ",(0,a.jsx)(c(),{component:"span",fontSize:"16px",fontWeight:"600",children:Z?.id})]})}),(0,a.jsxs)(p.jB,{sx:{position:"relative"},children:[(0,a.jsx)(g.A,{latitude:Z?.delivery_address?.latitude,longitude:Z?.delivery_address?.longitude,deliveryManLat:Z?.order_status==="picked_up"?Z?.delivery_man?.lat:Z?.receiver_details?.latitude,deliveryManLng:Z?.order_status==="picked_up"?Z?.delivery_man?.lng:Z?.receiver_details?.longitude,defaultControl:!0}),(0,a.jsx)(l.Stack,{position:"absolute",bottom:"-80px",width:"280px",left:{xs:"5%",sm:"8%",md:"16%"},children:(0,a.jsx)(p.WU,{padding:"10px",children:(0,a.jsxs)(p.jB,{spacing:1.5,direction:"row",alignItems:"center",pl:"10px",children:[(0,a.jsxs)(l.Stack,{children:[(0,a.jsx)(v.A,{style:{height:"20px",width:"16px"}}),(0,a.jsx)(I,{}),(0,a.jsx)(y.A,{style:{height:"20px",width:"16px"}})]}),(0,a.jsxs)(l.Stack,{spacing:1,children:[(0,a.jsxs)(l.Stack,{children:[(0,a.jsx)(c(),{fontSize:"12px",color:t.palette.primary.main,children:(0,f.t)("Sender")}),(0,a.jsx)(c(),{fontSize:"16px",children:Z?.delivery_address?.contact_person_name}),(0,a.jsx)(c(),{fontSize:"12px",color:t.palette.neutral[400],children:Z?.delivery_address?.address})]}),(0,a.jsxs)(l.Stack,{children:[(0,a.jsx)(c(),{fontSize:"12px",color:t.palette.primary.main,children:(0,f.t)("Receiver")}),(0,a.jsx)(c(),{fontSize:"16px",children:Z?.receiver_details?.contact_person_name}),(0,a.jsx)(c(),{fontSize:"12px",color:t.palette.neutral[400],children:Z?.receiver_details?.address}),"/profile"!==r.pathname&&(0,a.jsx)(h(),{onClick:()=>{i((0,z.iv)({contact_person_number:O})),r.push({pathname:"/profile",query:{orderId:Z?.id,page:"my-orders",phone:O}},void 0,{shallow:!0})},children:(0,f.t)("View Details")})]})]})]})})})]}),(0,a.jsx)(l.Stack,{mt:"100px",width:"100%",justifyContent:"center",pl:"50px",pr:"50px",mb:"20px",children:(0,a.jsx)(S.A,{steps:X,activeStep:E})}),(0,a.jsx)(j.A,{border:"1px"}),(0,a.jsxs)(p.jB,{justifyContent:"space-between",direction:"row",mt:"10px",children:[(0,a.jsx)(c(),{fontWeight:"700",color:t.palette.primary.main,children:(0,f.t)("Total")}),(0,a.jsx)(c(),{fontWeight:"700",color:t.palette.primary.main,children:(0,C.Yi)(Z?.order_amount)})]})]}),Z?.delivery_man&&(0,w.g)()&&(0,a.jsx)(b.A,{deliveryManInfo:Z?.delivery_man})]}),V&&(0,a.jsx)(p.jB,{padding:"70px 24px 0px 24px",children:(0,a.jsx)(m(),{variant:"rectangular",width:"100%",height:"350px"})}),!s&&F&&(0,a.jsx)(p.jB,{padding:"100px 24px 0px 24px",children:(0,a.jsx)(M.A,{image:k.A,label:"Order not found",height:"100px",width:"100px"})})]})};i()}catch(e){i(e)}})},44572:(e,t,r)=>{r.d(t,{A:()=>g});var i=r(8732);r(82015),r(58728);var a=r(33033),n=r.n(a),o=r(25966),p=r.n(o),l=r(10710),d=r.n(l),s=r(27635),c=r.n(s),x=r(66099),h=r(74716),u=r.n(h);let m=(0,x.styled)(n())(({theme:e})=>({"& .MuiStepConnector-root ":{"& .MuiStepConnector-line":{borderLeftWidth:"2px"}},"& .MuiStepConnector-line":{height:"28px",marginLeft:"-6px",marginBottom:"-11px",marginTop:"-10px"},"& .MuiSvgIcon-root ":{width:"14px",height:"14px",color:e.palette.neutral[100],border:"3px solid",borderColor:e.palette.neutral[400],borderRadius:"50%"},"& .Mui-completed":{borderColor:e.palette.primary.main},"& .MuiStepLabel-label.Mui-completed":{color:e.palette.primary.main},"& .MuiStepConnector-root.Mui-active .MuiStepConnector-line":{borderColor:e.palette.neutral[400]},"& .MuiStepConnector-root.Mui-completed .MuiStepConnector-line":{borderColor:e.palette.primary.main}})),g=({steps:e,activeStep:t})=>(0,i.jsx)(m,{orientation:"vertical",activeStep:t,children:e?.map((e,t)=>(0,i.jsx)(p(),{children:(0,i.jsx)(d(),{children:(0,i.jsxs)(x.Stack,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(c(),{fontSize:"12px",fontWeight:"400",children:e?.label}),(0,i.jsx)(c(),{fontSize:"12px",children:e?.time&&u()(e?.time).format("D MMM, h:mm A")})]})})},t))})},45355:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{X:()=>p});var a=r(82508),n=r(48896),o=e([a]);a=(o.then?(await o)():o)[0];let p={placeOrder:e=>a.A.post("/api/v1/customer/order/place",e),prescriptionPlaceOrder:e=>{console.log({orderData:e});let{store_id:t,distance:r,address:i,longitude:o,latitude:p,prescriptionImages:l,order_note:d,guest_id:s,contact_person_name:c,contact_person_number:x,dm_tips:h,order_type:u,payment_method:m}=e,g=new FormData;return g.append("store_id",t),g.append("distance",r),g.append("address",i),g.append("longitude",o),g.append("latitude",p),l.forEach(e=>{g.append("order_attachment[]",e)}),g.append("order_note",d),g.append("guest_id",s),(0,n.g)()||(g.append("contact_person_number",x),g.append("contact_person_name",c)),g.append("dm_tips",h),g.append("order_type",u),g.append("payment_method",m),a.A.post("/api/v1/customer/order/prescription/place",g)},orderHistory:(e,t,r)=>a.A.get(`/api/v1/customer/order/${e}?limit=${t}&offset=${r}`),orderDetails:e=>a.A.get(`/api/v1/customer/order/details?order_id=${e}`),orderTracking:e=>a.A.get(`/api/v1/customer/order/track?order_id=${e}`),CancelOrder:e=>a.A.post("/api/v1/customer/order/cancel",e),FailedPaymentMethodUpdate:e=>a.A.post("/api/v1/customer/order/payment-method",e),FailedPaymentMethodCancel:e=>a.A.post("/api/v1/customer/order/cancel",e)};i()}catch(e){i(e)}})},57747:(e,t,r)=>{r.d(t,{A:()=>i});let i={src:"/_next/static/media/empty.fb5e331e.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEV9fX2GhobAwMB2dnZzc3OMjIyCgoK9vb28vLxhYWE5OTlBQUGOjo5kZGS8vLypqamamppoaGjHx8evr6/edZ6iAAAADnRSTlMB/vE6DlbfXvuGb6d61jXFczEAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAA8SURBVHicHcZJEsAgCADBUVFAE1z+/1grOXVD6WP0AnrW3usoGmZmoUieKc0soG2upgAe5p+I+1v/QX24SWoBtZZt604AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},58728:(e,t,r)=>{r.d(t,{S:()=>p});var i=r(17765),a=r(33033),n=r.n(a),o=r(66099);(0,i.Ay)(o.Box)(()=>({padding:"40px 0px 40px 0px",width:"100%"}));let p=(0,i.Ay)(n())(({theme:e,width:t,height:r,border:i,color:a,marginLeft:n,marginTop:p,connectorHeight:l,parcel:d})=>({"& .MuiStepConnector-line":{height:l||"30px",borderColor:(0,o.alpha)(e.palette.primary.main,.2),marginLeft:"true"===d&&"20px",marginBottom:"true"===d&&"-43px",[e.breakpoints.down("sm")]:{marginLeft:"true"===d&&"12px"}},"& .MuiStepConnector-root.Mui-active .MuiStepConnector-line":{borderColor:e.palette.primary.main,height:l||"30px"},"& .MuiStepConnector-root.Mui-completed .MuiStepConnector-line":{borderColor:e.palette.primary.main,height:l||"30px"},"& .MuiStepLabel-iconContainer .Mui-active":{marginTop:"0px",width:t||"10px",height:r||"10px",borderRadius:"50%",color:a||e.palette.neutral[100]},"& .MuiStepLabel-iconContainer .Mui-completed":{width:"32px",height:"20px",borderColor:e.palette.primary.main},"& .MuiStepContent-root":{},"& .MuiStepLabel-label":{color:a,fontSize:"13px",marginBottom:"4px",marginLeft:n||"0px",marginTop:p||"0px"},"& .MuiStepLabel-label.Mui-active":{color:a,fontSize:"13px",fontWeight:400},"& .MuiStepLabel-iconContainer ":{width:"32px",height:"20px",borderColor:e.palette.primary.main},"& .MuiStepConnector-root ":{color:e.palette.primary.main,marginLeft:"3px","& .MuiStepConnector-line":{borderLeftWidth:"true"===d?"1px dash":"3px",color:"true"===d?e.palette.neutral[400]:e.palette.primary.main,marginTop:"true"===d?"-18px":"-11px",[e.breakpoints.down("sm")]:{marginTop:"true"===d?"-31px":"-11px"}}},"& .MuiSvgIcon-root":{width:t||"10px",height:r||"10px",color:a||e.palette.neutral[100],border:i||"2px solid",borderColor:e.palette.primary.main,borderRadius:"50%"},"& .MuiStepLabel-root":{padding:"0px"}}))},75244:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>x});var a=r(8732),n=r(18623),o=r(63499),p=r(27635),l=r.n(p),d=r(77843),s=e([d]);d=(s.then?(await s)():s)[0];let c=e=>{let{text:t,textAlign:r,...i}=e,{t:p}=(0,d.useTranslation)(),s=(0,n.A)(),c=(0,o.A)(s.breakpoints.down("sm"));return(0,a.jsx)(l(),{textAlign:r||"center",variant:c?"body2":"subtitle1",lineHeight:"24px",fontWeight:"400",sx:{color:"text.secondary"},...i,children:p(t)})};c.propTypes={};let x=c;i()}catch(e){i(e)}})},80382:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{A:()=>s});var a=r(82508),n=r(37991),o=r(56558),p=r(28441),l=r(48896),d=e([a,p]);[a,p]=d.then?(await d)():d;let c=async(e,t,r)=>{let i=(0,l.g)();try{let o=i?`?order_id=${e}`:`?order_id=${e}&guest_id=${r}&contact_number=${t}`,{data:p}=await a.A.get(`${n.oT}${o}`);return p}catch(e){throw e}};function s(e,t,r,i){return(0,o.useQuery)("track-order-data",()=>c(e,t,r),{onSuccess:i,enabled:!1,retry:1,onError:p.Jm})}i()}catch(e){i(e)}})},83344:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{k:()=>o});var a=r(82508),n=e([a]);a=(n.then?(await n)():n)[0];let o={placeApiAutocomplete:e=>{if(e&&""!==e)return a.A.get(`/api/v1/config/place-api-autocomplete?search_text=${e}`)},placeApiDetails:e=>a.A.get(`/api/v1/config/place-api-details?placeid=${e}`),getZoneId:e=>a.A.get(`/api/v1/config/get-zone-id?lat=${e.lat}&lng=${e.lng}`),distanceApi:(e,t)=>{if(!e||!t)throw Error("Origin and destination must be provided");return a.A.get(`/api/v1/config/distance-api?origin_lat=${e.latitude}&origin_lng=${e.longitude}&destination_lat=${t.lat?t.lat:t?.latitude}&destination_lng=${t.lng?t.lng:t?.longitude}&mode=WALK`)},geoCodeApi:e=>a.A.get(`/api/v1/config/geocode-api?lat=${e.lat}&lng=${e.lng}`)};i()}catch(e){i(e)}})}};