"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1303],{8043:(e,t,n)=>{n.d(t,{H:()=>X,A:()=>U});var i=n(37876),s=n(14232),l=n(60746),d=n(70946),r=n(6995),a=n(64410),o=n(49794),c=n(76776),x=n(47737),p=n(27830),h=n(14379),u=n(82179),m=n(89037);n(32162),n(45002),n(82),n(86015),n(39091),n(30469),n(36923),n(97685),n(65904),n(93317);var g=n(30566),j=n(22474),A=n(43015),f=n(97914),v=n(57452),y=n(66807),C=n(19023),w=n(60288),b=n(9738),_=n(32083),S=n(64817),k=n(97886),L=n(27814),z=n(37235),I=n(34328),E=n(30525),D=n(91769),T=n(41178),W=n(54773),B=n(74695),R=n(7042);let F=(0,W.Ay)(m.A)(e=>{let{theme:t}=e;return{position:"absolute",zIndex:"999",width:"85%",top:"10%",marginLeft:"20px",[t.breakpoints.down("md")]:{marginLeft:"13px"}}}),P=e=>{var t;let{setAddAddress:n,editAddress:r,userData:c,addressRefetch:x,setEditAddress:h}=e;(0,g.A)();let[u,m]=(0,s.useReducer)(v.Ff,v.ue),[W,P]=(0,s.useState)(r?null==r?void 0:r.address_type:""),{configData:M}=(0,B.d4)(e=>e.configData),[N,H]=(0,s.useState)(!1),[V,G]=(0,s.useState)(!1),[X,Z]=(0,s.useState)(M&&(null==M?void 0:M.default_location)),[U,q]=(0,s.useState)(""),[O,J]=(0,s.useState)(!1),[K,Q]=(0,s.useState)(!0),[Y,$]=(0,s.useState)(void 0),[ee,et]=(0,s.useState)([]),[en,ei]=(0,s.useState)(""),{coords:es,isGeolocationAvailable:el,isGeolocationEnabled:ed,getPosition:er}=(0,y.L)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3,isGeolocationEnabled:!0}),{data:ea,isLoading:eo}=(0,C.A)(U,O);(0,s.useEffect)(()=>{if(ea){var e;et(null==ea||null==(e=ea.suggestions)?void 0:e.map(e=>{var t,n,i,s,l,d,r;return{place_id:null==e||null==(t=e.placePrediction)?void 0:t.placeId,description:"".concat(null==e||null==(s=e.placePrediction)||null==(i=s.structuredFormat)||null==(n=i.mainText)?void 0:n.text,", ").concat(null==e||null==(r=e.placePrediction)||null==(d=r.structuredFormat)||null==(l=d.secondaryText)?void 0:l.text)}}))}},[ea]);let{data:ec}=(0,b.A)(X,V);(0,s.useEffect)(()=>{ec&&localStorage.setItem("zoneid",null==ec?void 0:ec.zone_id)},[ec]);let{isLoading:ex,data:ep}=(0,_.A)(en,K);(0,s.useEffect)(()=>{if(ep){var e,t;Z({lat:null==ep||null==(e=ep.location)?void 0:e.latitude,lng:null==ep||null==(t=ep.location)?void 0:t.longitude}),G(!0)}},[ep]);let{data:eh,isFetching:eu}=(0,w.A)(X),em=e=>{P(e),h({...r,address_type:null})},eg=e=>{e.target.value&&(q(e.target.value),J(!0),Q(!0))},ej=(e,t)=>{t&&ei(null==t?void 0:t.place_id),Q(!0)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Ay,{item:!0,md:12,xs:12,alignSelf:"center",children:(0,i.jsxs)(j.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(o.A,{variant:"subtitle2",fontWeight:"700",children:(0,f.t)("Add Address")}),(0,i.jsxs)(p.NX,{onClick:()=>n(!1),children:[(0,i.jsx)(A.A,{sx:{fontSize:"10px",color:e=>e.palette.primary.main,fontWeight:"700",marginRight:"3px"}}),(0,f.t)("Go Back")]})]})}),(0,i.jsxs)(a.Ay,{item:!0,xs:12,md:5,position:"relative",align:"center",children:[(0,i.jsx)(F,{children:(0,i.jsx)(k.A,{predictions:ee,handleChange:(e,t)=>ej(e,t,m),HandleChangeForSearch:e=>eg(e,m),handleAgreeLocation:()=>(0,L.CX)(es,m),currentLocation:u.currentLocation,handleCloseLocation:()=>(0,L.yv)(m)})}),(0,i.jsxs)(j.A,{children:[X&&(0,i.jsx)(S.A,{setLocation:Z,location:X,setPlaceDetailsEnabled:Q,placeDetailsEnabled:K,locationEnabled:V,setPlaceDescription:$,setLocationEnabled:G,setDisablePickButton:H,height:"350px"}),(0,i.jsx)(d.A,{onClick:()=>{Z({lat:es.latitude,lng:es.longitude})},sx:{position:"absolute",bottom:"25%",right:"10px",borderRadius:"50%",color:e=>e.palette.primary.main,backgroundColor:"background.paper"},children:(0,i.jsx)(R.A,{sx:{fontSize:{xs:"18px",md:"24px"}}})})]})]}),(0,i.jsxs)(a.Ay,{item:!0,xs:12,md:7,children:[(0,i.jsxs)(l.jB,{mb:"20px",children:[(0,i.jsx)(o.A,{children:(0,f.t)("Label As")}),(0,i.jsxs)(j.A,{direction:"row",spacing:2.5,pt:"10px",children:[(0,i.jsx)(l.TV,{value:"home",addressType:(null==r?void 0:r.address_type)?null==r?void 0:r.address_type:W,onClick:()=>em("home"),children:(0,i.jsx)(z.A,{src:I.A.src,width:"24px",height:"24px"})}),(0,i.jsx)(l.TV,{value:"office",addressType:(null==r?void 0:r.address_type)?null==r?void 0:r.address_type:W,onClick:()=>em("office"),children:(0,i.jsx)(z.A,{src:E.A.src,width:"24px",height:"24px"})}),(0,i.jsx)(l.TV,{value:"other",addressType:(null==r?void 0:r.address_type)?null==r?void 0:r.address_type:W,onClick:()=>em("other"),children:(0,i.jsx)(z.A,{src:D.A.src,width:"24px",height:"24px"})})]})]}),(0,i.jsx)(T.A,{deliveryAddress:null==eh||null==(t=eh.results[0])?void 0:t.formatted_address,atModal:"false",addressType:W,configData:M,phone:r?null==r?void 0:r.phone:null==c?void 0:c.phone,email:r?null==r?void 0:r.email:null==c?void 0:c.email,lat:(null==X?void 0:X.lat)||"",lng:(null==X?void 0:X.lng)||"",personName:r?null==r?void 0:r.contact_person_name:c&&"".concat(null==c?void 0:c.f_name," ").concat(null==c?void 0:c.l_name),editAddress:r,setAddAddress:n,refetch:x})]})]})},M={src:"/_next/static/media/editIcon.95a0ff40.png"};var N=n(21398),H=n(16501),V=n(32431),G=n(92661);let X=(0,h.A)(d.A)(e=>{let{theme:t}=e;return{border:"1px solid",borderColor:t.palette.neutral[400],borderRadius:"50%",padding:"6px"}}),Z=e=>{var t,n;let{data:s,t:l,refetch:d,setEditProfile:h,editProfile:g,setAddAddress:j,addAddress:A,editAddress:f,addressRefetch:v,setEditAddress:y}=e,C=(0,N.u)(),{configData:w}=(0,B.d4)(e=>e.configData),b=(0,r.A)(C.breakpoints.down("md")),_=()=>{h(e=>!e)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Ay,{container:!0,spacing:{xs:1,sm:2,md:3},padding:{xs:"10px",sm:"15px",md:"20px"},children:A?(0,i.jsx)(a.Ay,{container:!0,item:!0,xs:12,md:12,spacing:3,children:(0,i.jsx)(P,{setAddAddress:j,configData:w,userData:s,editAddress:f,addressRefetch:v,setEditAddress:y})}):(0,i.jsx)(i.Fragment,{children:g?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Ay,{container:!0,item:!0,xs:12,md:12,children:(0,i.jsx)(p.Ay,{data:s,configData:w,setEditProfile:h,handleClick:_,t:l,refetch:d})})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Ay,{item:!0,md:12,xs:12,children:(0,i.jsxs)(u.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(o.A,{fontSize:{xs:"14px",sm:"14px",md:"16px"},fontWeight:"700",children:l("Personal Details")}),b&&(0,i.jsx)(X,{onClick:_,children:(0,i.jsx)(z.A,{src:M.src,height:"16px",width:"16px"})})]})}),(0,i.jsx)(a.Ay,{item:!0,xs:12,md:3,children:(0,i.jsx)(u.A,{spacing:{xs:1,sm:1,md:1},paddingLeft:{xs:"0px",md:"20px"},children:s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.A,{fontWeight:"500",fontSize:{xs:"12px",md:"14px"},children:[l("User Name"),(0,i.jsx)(o.A,{component:"span",marginLeft:{xs:"13px",md:"10px"},fontSize:{xs:"12px",md:"14px"},children:"".concat((null==s?void 0:s.f_name)?null==s?void 0:s.f_name:""," ").concat((null==s?void 0:s.l_name)?null==s?void 0:s.l_name:"")})]}),(0,i.jsxs)(m.A,{display:"flex",alignItems:"center",fontWeight:"500",fontSize:{xs:"12px",md:"14px"},children:[(0,i.jsx)(o.A,{component:"span",fontSize:{xs:"12px",md:"14px"},children:l("Email")}),(0,i.jsx)(o.A,{fontSize:{xs:"12px",md:"14px"},component:"span",marginLeft:{xs:"8px",md:"8px"},children:(null==s?void 0:s.email)||""}),(null==s?void 0:s.is_email_verified)==="1"?(0,i.jsx)(V.A,{style:{marginLeft:"8px"}}):(null==w||null==(t=w.centralize_login)?void 0:t.email_verification_status)===1&&(0,i.jsx)(G.A,{sx:{color:e=>e.palette.error.main,width:"1.2rem",marginLeft:"8px"}})]})]}):(0,i.jsxs)(u.A,{children:[(0,i.jsx)(c.A,{variant:"text",width:150,height:20}),(0,i.jsx)(c.A,{variant:"text",width:150,height:20})]})})}),(0,i.jsx)(a.Ay,{item:!0,xs:12,md:3,children:(0,i.jsx)(u.A,{spacing:{xs:1,sm:1,md:1},alignItems:{xs:"flex-start",md:"center"},width:"100%",justifyContent:"center",children:s?(0,i.jsxs)(m.A,{display:"flex",alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(o.A,{fontWeight:"500",fontSize:{xs:"12px",md:"14px"},children:l("Phone")}),(0,i.jsxs)(o.A,{component:"span",fontSize:{xs:"12px",md:"14px"},marginLeft:{xs:"8px",md:"10px"},display:"flex",alignItems:"center",children:[null==s?void 0:s.phone,(null==s?void 0:s.is_phone_verified)===1?(0,i.jsx)(V.A,{style:{marginLeft:"8px"}}):(null==w||null==(n=w.centralize_login)?void 0:n.phone_verification_status)===1&&(0,i.jsx)(G.A,{sx:{color:e=>e.palette.error.main,width:"1.2rem",marginLeft:"8px"}})]})]}):(0,i.jsxs)(u.A,{children:[(0,i.jsx)(c.A,{variant:"text",width:170,height:20}),(0,i.jsx)(c.A,{variant:"text",width:170,height:20})]})})}),!b&&(0,i.jsx)(a.Ay,{item:!0,xs:6,md:6,align:"right",alignSelf:"flex-start",marginTop:{xs:"5px",md:"0px"},children:(0,i.jsx)(x.A,{onClick:_,variant:"contained",sx:{fontSize:"12px",borderRadius:"5px"},startIcon:(0,i.jsx)(H.A,{style:{width:"13px",height:"13px"}}),children:l("Edit Profile")})})]})})})})};Z.propTypes={};let U=Z},9505:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(37876),s=n(14232),l=n(89099),d=n(74695);let r=e=>{let{children:t,from:n}=e,r=(0,l.useRouter)(),[a,o]=(0,s.useState)(!1),{configData:c}=(0,d.d4)(e=>e.configData);return((0,s.useEffect)(()=>{if(!r.isReady)return;let e=localStorage.getItem("token"),t=localStorage.getItem("guest_id");e||t||t&&(null==c?void 0:c.guest_checkout_status)===1?o(!0):r.push({pathname:"/home",query:{from:n}},void 0,{shallow:!0})},[r.isReady]),a)?(0,i.jsx)(i.Fragment,{children:t}):null}},79403:(e,t,n)=>{n.d(t,{i:()=>G,A:()=>Z});var i=n(37876),s=n(14232),l=n(69434),d=n(60746),r=n(54773),a=n(47737),o=n(6995),c=n(49794),x=n(64410),p=n(52158),h=n(82179),u=n(89037),m=n(68028);let g={src:"/_next/static/media/Group 1597886316.6d8a16a7.svg",height:56,width:77,blurWidth:0,blurHeight:0};var j=n(76776);let A=()=>(0,i.jsx)(d.iv,{children:(0,i.jsx)(x.Ay,{container:!0,spacing:3,children:[void 0,void 0].map((e,t)=>(0,i.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,i.jsx)(j.A,{variant:"rectangular",width:"100%",height:"10rem"})},t))})});var f=n(74441);n(8168);var v=n(70946);let y={src:"/_next/static/media/delete-icon.7460c87d.png"};var C=n(82),w=n(72326),b=n(2799),_=n(42107),S=n(70190),k=n(1992);let L=async e=>{let{data:t}=await _.A.delete("".concat(S.Ch,"?address_id=").concat(e));return t};var z=n(97685),I=n(65904),E=n(3801);let D={src:"/_next/static/media/mapMarker.0e641af6.png"},T=e=>{let{open:t,handleClose:n,addressId:s,refetch:l}=e,{t:r}=(0,C.Bd)(),{mutate:o,isLoading:x,error:p}=(0,k.useMutation)("delete-address",L),h=()=>{o(s,{onSuccess:()=>{z.Ay.success(r("Address deleted successfully.")),null==l||l(),null==n||n()},onError:I.P1})};return(0,i.jsx)("div",{children:(0,i.jsx)(w.A,{openModal:t,handleClose:n,children:(0,i.jsx)(b.A,{sx:{textAlign:"center",padding:"2rem"},children:(0,i.jsxs)(d.jB,{alignItems:"center",justifyContent:"center",spacing:3,children:[(0,i.jsx)("img",{src:D.src,alt:r("map-image"),width:"60px",height:"60px"}),(0,i.jsx)(c.A,{fontWeight:"bold",variant:"h6",children:r("Are you sure you want to delete this address?")}),(0,i.jsxs)(d.jB,{direction:"row",alignItems:"center",justifyContent:"center",spacing:2,children:[(0,i.jsx)(a.A,{sx:{backgroundColor:e=>e.palette.neutral[300],color:e=>e.palette.neutral[1e3],width:"120px","&:hover":{backgroundColor:e=>e.palette.neutral[400]}},onClick:n,children:r("Cancel")}),(0,i.jsx)(E.A,{loading:x,sx:{background:e=>e.palette.error.light,color:"white",width:"120px","&:hover":{backgroundColor:e=>e.palette.error.dark}},onClick:()=>h(),children:r("Delete")})]})]})})})})};var W=n(30566);let B=()=>{let e=(0,W.A)();return(0,i.jsx)("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M9.22685 9.16536H10.9883L16.1886 3.9987L14.4272 2.2487L9.22685 7.41536V9.16536ZM16.7758 3.41536L17.3629 2.83203C17.5307 2.66536 17.6145 2.47092 17.6145 2.2487C17.6145 2.02648 17.5307 1.83203 17.3629 1.66536L16.7758 1.08203C16.608 0.915365 16.4123 0.832031 16.1886 0.832031C15.9649 0.832031 15.7692 0.915365 15.6015 1.08203L15.0143 1.66536L16.7758 3.41536ZM10.0656 18.332C7.81492 16.4293 6.13403 14.6618 5.02294 13.0295C3.91129 11.3979 3.35547 9.88759 3.35547 8.4987C3.35547 6.41536 4.03012 4.75564 5.37942 3.51953C6.72816 2.28342 8.29022 1.66536 10.0656 1.66536C10.4431 1.66536 10.8172 1.69648 11.1879 1.7587C11.5581 1.82148 11.9179 1.90842 12.2674 2.01953L10.9044 3.39453C10.7646 3.36675 10.6281 3.34925 10.4951 3.34203C10.3625 3.33536 10.2194 3.33203 10.0656 3.33203C8.65369 3.33203 7.4618 3.81453 6.48995 4.77953C5.51865 5.74509 5.033 6.98481 5.033 8.4987C5.033 9.48481 5.4454 10.6131 6.27019 11.8837C7.09498 13.1548 8.36012 14.5681 10.0656 16.1237C11.7711 14.5681 13.0363 13.1548 13.861 11.8837C14.6858 10.6131 15.0982 9.48481 15.0982 8.4987C15.0982 8.33203 15.0912 8.1687 15.0773 8.0087C15.0633 7.84925 15.0423 7.69314 15.0143 7.54036L16.3983 6.16536C16.5241 6.52648 16.6186 6.90148 16.6818 7.29036C16.7444 7.67925 16.7758 8.08203 16.7758 8.4987C16.7758 9.88759 16.2202 11.3979 15.1091 13.0295C13.9975 14.6618 12.3163 16.4293 10.0656 18.332Z",fill:e.palette.primary.main})})};n(93317),n(36573);var R=n(97914),F=n(74695);let P=(0,r.Ay)(c.A)(e=>{let{theme:t,fontWeight:n}=e;return{fontWeight:n||"500",fontSize:"12px"}}),M=e=>{let{item:t,refetch:n,dispatch:l,configData:r,edit:a,setEditAddress:o,setAddAddress:x}=e,{address_type:p,contact_person_number:u,address:m,road:g,floor:j,house:A,latitude:w,longitude:b,user_id:_,contact_person_name:S,zone_id:k,id:L}=t,{t:z}=(0,C.Bd)(),[I,E]=(0,s.useState)(!1),{openAddressModal:D}=(0,F.d4)(e=>e.addressModel);return(0,i.jsxs)(d.WU,{padding:"0px",sx:{borderRadius:"5px",boxShadow:"0px 9.075414657592773px 18.150829315185547px -2.7226247787475586px rgba(145, 158, 171, 0.05), 0px 0px 1.8150832653045654px 0px rgba(145, 158, 171, 0.20)"},children:[(0,i.jsxs)(d.jB,{spacing:2,children:[(0,i.jsxs)(d.jB,{direction:"row",alignItems:"center",justifyContent:"space-between",padding:{xs:" 4px 20px",md:" 13px 20px"},sx:{background:e=>(0,f.X4)(e.palette.info.contrastText1,.3),borderRadius:"5px 5px 0px 0px"},children:[(0,i.jsx)(c.A,{fontWeight:"500",textTransform:"capitalize",children:z(p)}),(0,i.jsxs)(h.A,{direction:"row",alignItems:"center",children:[(0,i.jsx)(v.A,{onClick:()=>{o(t),x(e=>!e)},children:(0,i.jsx)(B,{})}),(0,i.jsx)(v.A,{onClick:()=>E(!0),children:(0,i.jsx)("img",{src:y.src,alt:"delete"})})]})]}),(0,i.jsxs)(h.A,{padding:"0px 20px 23px 20px",spacing:1,children:[(0,i.jsxs)(h.A,{direction:"row",gap:"30px",children:[(0,i.jsx)(P,{children:z("Name")}),(0,i.jsx)(P,{fontWeight:"400",children:S})]}),(0,i.jsxs)(h.A,{direction:"row",gap:"25px",children:[(0,i.jsx)(P,{children:z("Phone")}),(0,i.jsx)(P,{fontWeight:"400",children:u})]}),(0,i.jsxs)(h.A,{direction:"row",gap:"15px",children:[(0,i.jsx)(P,{children:z("Address")}),(0,i.jsxs)(P,{fontWeight:"400",children:[" ",m]})]})]})]}),I&&(0,i.jsx)(T,{open:I,handleClose:()=>E(!1),addressId:L,refetch:n})]})};M.propTypes={};var N=n(8043),H=n(21398),V=n(60963);let G=(0,r.Ay)(a.A)(e=>{let{theme:t}=e;return{color:t.palette.neutral[400],fontSize:"12px",border:"1px solid",borderColor:t.palette.neutral[400],borderRadius:"5px"}}),X=e=>{let{configData:t,setAddAddress:n,addAddress:r,setEditAddress:a,data:j,refetch:f,isLoading:v}=e,{AllSaveAddress:y}=(0,F.d4)(e=>e.storedData),C=(0,F.wA)(),w=(0,H.u)(),b=(0,o.A)(w.breakpoints.down("md")),{openAddressModal:_}=(0,F.d4)(e=>e.addressModel),[S,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{(null==y?void 0:y.length)===0&&f()},[]),(0,s.useEffect)(()=>{j&&C((0,V.p_)(null==j?void 0:j.addresses))},[j]);let L=()=>{a(null),n(e=>!e)};return(0,i.jsxs)(d.jB,{padding:{xs:"10px",sm:"15px",md:"20px"},spacing:2,children:[(0,i.jsxs)(d.jB,{justifyContent:"space-between",direction:"row",alignItems:"center",children:[(0,i.jsx)(c.A,{fontSize:{xs:"14px",sm:"14px",md:"16px"},fontWeight:"700",children:(0,R.t)("My Addresses")}),(0,i.jsx)(h.A,{children:b?(0,i.jsx)(N.H,{onClick:L,children:(0,i.jsx)(l.A,{style:{fontSize:"16px"}})}):(0,i.jsx)(G,{onClick:L,variant:"outlined",startIcon:(0,i.jsx)(l.A,{style:{fontSize:"16px"}}),children:(0,R.t)("Add Address")})})]}),(0,i.jsx)(x.Ay,{container:!0,spacing:{xs:1,sm:1.5,md:2.5},children:(0,i.jsx)(x.Ay,{item:!0,xs:12,md:12,children:(0,i.jsx)(p.A,{children:v?(0,i.jsx)(A,{}):y&&(null==y?void 0:y.length)>0?(0,i.jsx)(u.A,{children:(0,i.jsx)(x.Ay,{container:!0,children:null==y?void 0:y.map((e,s)=>(0,i.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:6,lg:6,paddingRight:{xs:"10px",sm:"15px",md:"25px"},paddingBottom:{xs:"10px",sm:"15px",md:"25px"},children:(0,i.jsx)(M,{item:e,refetch:f,configData:t,dispatch:C,openAddressModal:_,setEditAddress:a,edit:S,setAddAddress:n})},e.id))})}):(0,i.jsx)(h.A,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:(0,i.jsx)(m.A,{label:"No address found",image:g,width:"128px",height:"80"})})})})})]})};X.propTypes={};let Z=X}}]);