(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1697],{2364:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(42107),l=i(70190),r=i(1992),s=i(65904);let o=async e=>{if(e){let{data:t}=await n.A.get("".concat(l.Id,"/").concat(e));return t}};function a(e){return(0,r.useQuery)("store-details_s",()=>o(e),{enabled:!1,onError:s.P1})}},2382:(e,t,i)=>{"use strict";i.d(t,{O:()=>a});var n=i(37876),l=i(49794),r=i(14232),s=i(21398),o=i(97914);let a=e=>{let{children:t,limits:i,color:a,font:d}=e,c=i||70,u=(0,s.u)(),[x,p]=(0,r.useState)(!0),h=u.palette.primary.main;return(0,n.jsxs)(l.A,{fontSize:{xs:"10px",sm:null!=d?d:"14px",md:null!=d?d:"14px"},fontWeight:"400",color:a||u.palette.neutral[600],children:[x?null==t?void 0:t.slice(0,c):t,(null==t?void 0:t.length)>c&&(0,n.jsx)("span",{onClick:()=>{p(!x)},style:{cursor:"pointer",color:h},children:x?(0,o.t)("...Read more"):(0,o.t)(" Show less")})]})}},52722:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(14232),l=i(89099);let r=()=>{let e=(0,l.useRouter)();(0,n.useEffect)(()=>{let t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.events.on("routeChangeComplete",t),()=>{e.events.off("routeChangeComplete",t)}},[e])}},87580:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return i(98305)}])},98305:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__N_SSP:()=>eb,default:()=>eS});var n=i(37876),l=i(14232),r=i(68050),s=i(67512),o=i(64410),a=i(2364),d=i(33872),c=i(88076),u=i(97914),x=i(97685),p=i(74695),h=i(53899),m=i(60746),g=i(10435),j=i(13555),v=i(66419),f=i(2799),A=i(49794),w=i(37224),y=i(47737),_=i(14379),b=i(82179),S=i(74441),C=i(82),k=i(30566);let B=e=>{let{description:t}=e,i=(0,k.A)(),l=null==t?void 0:t.split(/\r\n/).map(e=>e.match(/^\d+\./)?"<br/>".concat(e):""===e.trim()?"<br/><br/>":e).join("");return(0,n.jsx)("div",{children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:l},style:{color:i.palette.neutral[400],fontSize:"12px"}})})};B.propTypes={};var z=i(42107),D=i(1992),E=i(70190),I=i(65904);let R=async e=>{let{productId:t,page_limits:i,offSet:n}=e,{data:l}=await z.A.get("".concat(E.zf,"/").concat(t,"?limit=").concat(i,"&offset=").concat(n));return l};var W=i(24422),P=i(89037),T=i(37235),F=i(72326),O=i(33188),N=i(70946),L=i(88160),M=i(59719),V=i(2382);let H=e=>{var t,i,r,s,o;let{review:a,storename:d}=e,{configData:c}=(0,p.d4)(e=>e.configData),[u,x]=(0,l.useState)(!1),h=(0,k.A)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.jB,{direction:"row",spacing:7,sx:{marginBottom:"35px"},children:[(0,n.jsxs)(b.A,{direction:"row",spacing:2,children:[(0,n.jsx)(W.A,{src:null==a?void 0:a.customer_image,width:"42px",height:"42px"}),(0,n.jsxs)(b.A,{children:[(0,n.jsx)(A.A,{fontSize:"11px",fontWeight:"700",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:(null==a?void 0:a.customer_name)?null==a?void 0:a.customer_name:"".concat(null==a||null==(t=a.customer)?void 0:t.f_name)+" "+"".concat(null==a||null==(i=a.customer)?void 0:i.l_name)}),(0,n.jsxs)(b.A,{direction:"row",children:[(0,n.jsx)(L.A,{color:"warning",style:{width:"15px",height:"15px"}}),(0,n.jsx)(A.A,{component:"span",fontSize:"12px",ml:"5px",children:"".concat(null==a?void 0:a.rating,"/5")})]})]})]}),(0,n.jsxs)(b.A,{spacing:2,children:[(0,n.jsx)(A.A,{fontSize:"12px",children:null==a?void 0:a.comment}),a.reply&&(0,n.jsxs)(P.A,{sx:{background:h.palette.neutral[300],padding:"13px",borderRadius:"9px"},children:[(0,n.jsxs)(b.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(A.A,{fontSize:"12px",fontWeight:"500",color:h.palette.text.primary,children:d}),(0,n.jsx)(A.A,{fontSize:"10px",fontWeight:"400",color:"text.secondary",children:(0,M.eW)(a.updated_at)})]}),(0,n.jsx)(b.A,{mt:"5px",children:(0,n.jsx)(V.O,{font:"12px",color:h.palette.text.secondary,limits:"130",children:a.reply})})]}),(null==a||null==(r=a.attachment)?void 0:r.length)>0&&(0,n.jsx)(b.A,{direction:"row",spacing:1,children:null==(s=JSON.parse(null==a?void 0:a.attachment))?void 0:s.map((e,t)=>{var i;return(0,n.jsx)(T.A,{src:null==a||null==(i=a.customer)?void 0:i.image_full_url,width:"55px",height:"55px"},t)})})]})]}),(0,n.jsx)(F.A,{openModal:u,handleClose:()=>x(!1),children:(0,n.jsxs)(m.jB,{backgroundColor:h.palette.neutral[300],padding:"20px",spacing:1.5,sx:{borderRadius:".9rem",width:{xs:"300px",sm:"550px"},cursor:"pointer",position:"relative"},children:[(0,n.jsx)(N.A,{onClick:()=>x(!1),sx:{position:"absolute",top:0,right:3,width:"45px",borderRadius:"50%"},children:(0,n.jsx)(O.A,{})}),(0,n.jsx)(T.A,{src:null==a||null==(o=a.customer)?void 0:o.image_full_url,width:"100%",height:"100%"})]})})]})};i(88949),i(22213);let G=e=>{let{reviews:t,configData:i,isExpanded:l,storename:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m.iv,{children:(null==t?void 0:t.length)>0?null==t?void 0:t.map(e=>(0,n.jsx)(H,{review:e,configData:i,storename:r},null==e?void 0:e.id)):(0,n.jsx)(n.Fragment,{children:"true"===l&&(0,u.t)("No reviews found")})})})};var J=i(30290);let Q=async e=>{let{productId:t,page_limits:i,offSet:n}=e,{data:l}=await z.A.get("".concat(E.Oo,"/").concat(t,"?limit=").concat(i,"&offset=").concat(n));return l},X=(0,_.A)(f.A)(e=>{let{theme:t}=e;return{padding:"16px",borderRadius:"5px",background:t.palette.background.paper,boxShadow:"0px 10px 20px -3px rgba(145, 158, 171, 0.05), 0px 0px 2px 0px rgba(145, 158, 171, 0.20)"}}),q=e=>{let{item:t,selected:i,showBackground:l,handleClick:r}=e;return(0,n.jsx)(b.A,{alignItems:"center",justifyContent:"center",sx:{backgroundColor:e=>l?"true"===i&&e.palette.primary.main:"true"===i&&"transparent",padding:"10px 15px",fontWeight:l?"true"===i&&"400":"true"===i&&"600",borderRadius:l?"5px":"none",borderBottom:l?"none":e=>"2px solid ".concat("true"===i?e.palette.primary.main:(0,S.X4)(e.palette.neutral[400],.2)),color:e=>l?"true"===i&&e.palette.neutral[100]:"true"===i&&e.palette.primary.main,cursor:"pointer"},onClick:r,children:(0,u.t)(t)})},U=e=>{let{info:t}=e,{t:i}=(0,C.Bd)();return(0,n.jsx)(m.jB,{alignItems:"flex-start",justifyContent:"center",sx:{padding:"11px 30px",backgroundColor:e=>e.palette.neutral[300],borderRadius:"10px"},children:(0,n.jsx)(A.A,{fontWeight:"bold",component:"h2",children:i(t)})})},Y=e=>{var t,i,r,s,o,a,d,c,u;let{description:x,reviews:p,configData:h,productId:g,storename:j,tabsData:v=["Product Details","Reviews"],showBackground:f=!0}=e,{t:A}=(0,C.Bd)(),[_,b]=(0,l.useState)(0),[S,k]=(0,l.useState)(!1),z=(0,l.useRef)(null),[E,W]=(0,l.useState)(1),[P,T]=(0,l.useState)(10),{data:F,refetch:O}=(c={productId:g,offSet:E,page_limits:P},(0,D.useQuery)("product-reviews",()=>R(c),{enabled:!1,onError:I.P1})),{refetch:N,data:L}=(u={productId:g,offSet:E,page_limits:P},(0,D.useQuery)("vehicle-reviews",()=>Q(u),{enabled:!1,onError:I.P1}));(0,l.useEffect)(()=>{z.current&&z.current.clientHeight>200&&k(!0)},[200]);let M=()=>{k(!0)},V=()=>{k(!1)};return(0,l.useEffect)(()=>{var e;(null==(e=(0,J.f)())?void 0:e.module_type)==="rental"?N():O()},[g,E]),(0,n.jsx)(X,{children:(0,n.jsxs)(m.jB,{alignItems:"center",justifyContent:"center",spacing:2,children:[(0,n.jsx)(m.jB,{alignItems:"center",justifyContent:"center",direction:"row",spacing:.5*!!f,children:v.map((e,t)=>(0,n.jsx)(q,{item:e,handleClick:()=>b(t),showBackground:f,selected:_===t?"true":"false"},t))}),(0,n.jsx)(U,{info:0===_?"Details Description ":"Reviews"}),(0,n.jsxs)(m.jB,{p:"0px 30px",children:[0!==_&&(0,n.jsx)(G,{reviews:L?null==L?void 0:L.reviews.slice(0,1):null==F||null==(t=F.reviews)?void 0:t.slice(0,1),configData:h,total_size:null==F?void 0:F.total_size,offSet:E,setOffSet:W,page_limits:P,isExpanded:"true"}),0===_&&(0,n.jsx)(B,{description:null==x?void 0:x.slice(0,208)}),(0,n.jsx)(w.A,{in:S,children:0===_?(0,n.jsx)(B,{description:null==x?void 0:x.slice(208)}):(0,n.jsx)(G,{reviews:L?null==L||null==(i=L.reviews)?void 0:i.slice(1):null==F||null==(r=F.reviews)?void 0:r.slice(1),configData:h,total_size:null==F?void 0:F.total_size,offSet:E,setOffSet:W,page_limits:P,isExpanded:"false",storename:j})}),0===_?(0,n.jsxs)(n.Fragment,{children:[!S&&(null==x?void 0:x.length)>110&&(0,n.jsx)(y.A,{sx:{textDecoration:"underline"},onClick:M,children:A("View More")}),S&&(null==x?void 0:x.length)>110&&(0,n.jsx)(y.A,{sx:{textDecoration:"underline"},onClick:V,children:A("View Less")})]}):(0,n.jsxs)(n.Fragment,{children:[!S&&((null==F||null==(s=F.reviews)?void 0:s.length)>1||(null==L||null==(o=L.reviews)?void 0:o.length)>1)&&(0,n.jsx)(y.A,{sx:{textDecoration:"underline"},onClick:M,children:A("View More")}),S&&((null==F||null==(a=F.reviews)?void 0:a.length)>1||(null==L||null==(d=L.reviews)?void 0:d.length)>1)&&(0,n.jsx)(y.A,{sx:{textDecoration:"underline"},onClick:V,children:A("View Less")})]})]})]})})};Y.propTypes={};var K=i(10157);let Z=async e=>{let{productId:t,offset:i,limit:n}=e,{data:l}=await z.A.get("".concat(E.Tu,"/").concat(t,"?offset=").concat(i,"&limit=").concat(n));return l};var $=i(53652),ee=i(30469);let et=e=>{var t,i;let{productDetails:r}=e,[s,o]=(0,l.useState)(1),[a,d]=(0,l.useState)([]),c={productId:null==r?void 0:r.id,offset:s,limit:10},{refetch:u}=(i=e=>{e&&d(e)},(0,D.useQuery)("stores-categories-item",()=>Z(c),{enabled:!1,onSuccess:i,onError:I.Jm}));return(0,l.useEffect)(()=>{u()},[]),(0,n.jsxs)(m.jB,{children:[(0,n.jsx)(ee.A,{textAlign:"start",text:"More From This Store!",component:"h2"}),null==a||null==(t=a.slice(0,4))?void 0:t.map((e,t)=>(0,n.jsx)($.Ay,{item:e,cardWidth:"350px",cardheight:"160px",horizontalcard:"true",cardFor:"popular items"},t))]})};et.propTypes={};var ei=i(21398),en=i(46084),el=i(97466),er=i(6995),es=i(50554),eo=i(52235),ea=i(651),ed=i(58607),ec=i(70901),eu=i(48230),ex=i.n(eu),ep=i(89099),eh=i(99691),em=i(26068),eg=i(24936);let ej=(0,_.A)(f.A)(e=>{let{theme:t}=e;return{padding:"20px",borderRadius:"5px",background:t.palette.background.paper,boxShadow:"0px 10px 20px -3px rgba(145, 158, 171, 0.05), 0px 0px 2px 0px rgba(145, 158, 171, 0.20)"}}),ev=e=>{var t;let i,{storeDetails:l,storeImageBaseUrl:r}=e,{t:s}=(0,C.Bd)(),a=(0,ei.u)();(0,ep.useRouter)();let d=(0,er.A)(a.breakpoints.down("sm")),{configData:c}=(0,p.d4)(e=>e.configData),u=(0,p.wA)(),{wishLists:j}=(0,p.d4)(e=>e.wishList),{mutate:v}=(0,ea.P)(),{mutate:f}=(0,eo.S)();i=localStorage.getItem("token");let w=e=>{u((0,h.Rz)(null==l?void 0:l.id)),x.Ay.success(e.message,{id:"wishlist"})},y=e=>{var t;return!!(null==j||null==(t=j.store)?void 0:t.find(e=>e.id===(null==l?void 0:l.id)))},_=e=>{v(e,{onSuccess:w,onError:e=>{x.Ay.error(e.response.data.message)}})},b=null==l||null==(t=l.delivery_time)?void 0:t.split(" ");return(0,n.jsx)(ej,{children:(0,n.jsxs)(o.Ay,{container:!0,spacing:2.5,children:[(0,n.jsxs)(o.Ay,{item:!0,xs:12,container:!0,children:[(0,n.jsx)(o.Ay,{item:!0,xs:10,alignSelf:"center",children:(0,n.jsxs)(m.jB,{direction:"raw",alignItems:"center",sx:{flex:"0 0 60px",gap:"10px"},children:[(0,n.jsx)(m.iv,{sx:{position:"relative",height:"60px",width:"80px",borderRadius:"50%",border:e=>"1px solid ".concat((0,S.X4)(e.palette.neutral[300],.3))},children:(0,n.jsx)(T.A,{src:null==l?void 0:l.logo_full_url,height:"100%",width:"100%",obejctfit:"contain",borderRadius:"50%"})}),(0,n.jsxs)(m.jB,{spacing:.5,children:[(0,n.jsx)(A.A,{variant:"h7",component:"h2",children:null==l?void 0:l.name}),(0,n.jsxs)(m.jB,{direction:"row",alignItems:"center",children:[(0,n.jsx)(em.A,{ratingValue:null==l?void 0:l.avg_rating,color:a.palette.warning.main,readOnly:!0}),(0,n.jsxs)(A.A,{fontSize:"12px",color:"customColor.textGray",children:["(",null==l?void 0:l.rating_count,")"]})]}),(0,n.jsxs)(A.A,{fontSize:"14px",component:"h3",children:[(null==l?void 0:l.total_items)-1,"+ ",s("Products")]})]})]})}),(0,n.jsxs)(o.Ay,{item:!0,xs:2,children:[!y(null==l?void 0:l.id)&&(0,n.jsx)(es.A,{text:"Add to cart",children:(0,n.jsx)(eg.J,{sx:{filter:"drop-shadow(0px 4px 8px rgba(0, 0, 0, 0.05))"},onClick:()=>{i?f(null==l?void 0:l.id,{onSuccess:e=>{e&&(u((0,h.wz)(l)),x.Ay.success(null==e?void 0:e.message))},onError:e=>{x.Ay.error(e.response.data.message)}}):x.Ay.error(s(g.F))},children:(0,n.jsx)(el.A,{color:"primary",size:"small"})})}),y(null==l?void 0:l.id)&&(0,n.jsx)(es.A,{text:"Add to cart",children:(0,n.jsx)(eg.J,{onClick:()=>_(null==l?void 0:l.id),sx:{filter:"drop-shadow(0px 4px 8px rgba(0, 0, 0, 0.05))"},children:(0,n.jsx)(en.A,{color:"primary",size:"small"})})})]})]}),(0,n.jsxs)(o.Ay,{item:!0,xs:12,container:!0,children:[(0,n.jsx)(o.Ay,{item:!0,xs:4,children:(0,n.jsxs)(m.jB,{alignItems:"flex-start",children:[(0,n.jsxs)(A.A,{sx:{fontSize:"18px",fontWeight:"bold"},children:[null==l?void 0:l.positive_rating.toFixed(1),"%"]}),(0,n.jsx)(A.A,{sx:{color:e=>e.palette.customColor.textGray,fontSize:d?"12px":"inherit"},children:s("Positive Review")})]})}),(0,n.jsx)(o.Ay,{item:!0,xs:4,children:(0,n.jsxs)(m.jB,{alignItems:"flex-start",children:[(0,n.jsx)(A.A,{sx:{fontSize:"18px",fontWeight:"bold"},children:(0,ed.Yi)(null==l?void 0:l.minimum_order)}),(0,n.jsx)(A.A,{sx:{color:e=>e.palette.customColor.textGray,fontSize:d?"12px":"inherit"},children:s("Minimum Order")})]})}),(0,n.jsx)(o.Ay,{item:!0,xs:4,children:(0,n.jsxs)(m.jB,{alignItems:"flex-start",children:[(0,n.jsxs)(m.jB,{direction:"raw",alignItems:"center",children:[(0,n.jsx)(A.A,{sx:{fontSize:"18px",fontWeight:"bold"},children:null==b?void 0:b[0]}),(0,n.jsx)(A.A,{sx:{fontSize:"18px"},children:null==b?void 0:b[1]})]}),(0,n.jsx)(A.A,{sx:{color:e=>e.palette.customColor.textGray,fontSize:d?"12px":"inherit"},children:s("Delivery Time")})]})})]}),(0,n.jsx)(o.Ay,{item:!0,xs:12,container:!0,spacing:2,children:(0,n.jsx)(o.Ay,{item:!0,xs:12,children:(0,n.jsx)(ex(),{href:{pathname:"/store/[id]",query:{id:"".concat(null==l?void 0:l.id),module_id:"".concat((0,ec.E)())}},children:(0,n.jsx)(eh.mg,{fullwidth:"true",children:(0,n.jsx)(A.A,{children:s("Visit Store")})})})})})]})})};ev.propTypes={};let ef=l.memo(ev),eA=e=>{var t,i,r;let{productDetailsData:s,configData:f}=e,A=null==f||null==(t=f.base_urls)?void 0:t.store_image_url,w=(0,p.wA)(),[y,_]=(0,l.useState)(!1),{mutate:b}=(0,d.n)(),{mutate:S}=(0,c.u)(),{data:C,refetch:k}=(0,a.A)(null==s?void 0:s.store_id);return(0,l.useEffect)(()=>{(null==s?void 0:s.store_id)&&k()},[]),(0,n.jsx)(m.jB,{spacing:5,paddingTop:{xs:"1.25rem",md:"2.5rem"},paddingBottom:"2.5rem",sx:{minHeight:"100vh"},children:(0,n.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,n.jsx)(o.Ay,{item:!0,xs:12,md:8,children:(0,n.jsxs)(m.jB,{spacing:5,children:[(0,n.jsx)(K.A,{productDetailsData:s,configData:f,addToWishlistHandler:e=>{e.stopPropagation(),localStorage.getItem("token")?b(null==s?void 0:s.id,{onSuccess:e=>{e&&(w((0,h.n_)(s)),_(!0),x.Ay.success(null==e?void 0:e.message))},onError:e=>{x.Ay.error(e.response.data.message)}}):x.Ay.error((0,u.t)(g.F))},removeFromWishlistHandler:e=>{e.stopPropagation(),S(null==s?void 0:s.id,{onSuccess:e=>{w((0,h.R8)(null==s?void 0:s.id)),_(!1),x.Ay.success(e.message,{id:"wishlist"})},onError:e=>{x.Ay.error(e.response.data.message)}})},isWishlisted:y}),(0,n.jsx)(Y,{configData:f,description:null==s?void 0:s.description,reviews:null==s?void 0:s.reviews,productId:null==s?void 0:s.id,storename:null==s||null==(i=s.store_details)?void 0:i.name}),(0,n.jsx)(m.jB,{children:(0,n.jsx)(v.A,{slide:"3",title:"Popular Store",configData:f})})]})}),(0,n.jsx)(o.Ay,{item:!0,xs:12,md:4,children:(0,n.jsxs)(m.jB,{spacing:3,children:[(0,n.jsx)(ef,{storeDetails:null!=(r=null==s?void 0:s.store_details)?r:C,storeImageBaseUrl:A}),(0,n.jsx)(et,{productDetails:s})]})}),(0,n.jsx)(o.Ay,{item:!0,xs:12,children:(0,n.jsx)(j.A,{})})]})})};var ew=i(5513),ey=i(54500),e_=i(52722),eb=!0;let eS=e=>{var t,i;let{configData:o,productDetailsData:a,landingPageData:d}=e;(0,e_.A)();let{cartList:c,campaignItem:u}=(0,p.d4)(e=>e.cart),[x,h]=(0,l.useState)([]);(0,l.useEffect)(()=>{m()},[a,c]);let m=()=>{if(a)if((null==c?void 0:c.length)>0){let e=null==c?void 0:c.find(e=>(null==e?void 0:e.id)===(null==a?void 0:a.id));e?h([{...e,store_details:null==a?void 0:a.store_details}]):h([a])}else h([a]);else h([{...u,isCampaignItem:!0}])};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Ay,{}),(0,n.jsx)(ew.A,{title:o?"".concat((null==a?void 0:a.name)||(null==(t=x[0])?void 0:t.name)):"Loading...",image:"".concat(null==o||null==(i=o.base_urls)?void 0:i.item_image_url,"/").concat(null==a?void 0:a.image),businessName:null==o?void 0:o.business_name,description:"".concat(null==a?void 0:a.description),configData:o}),(0,n.jsx)(s.A,{configData:o,landingPageData:d,children:(0,n.jsx)(ey.A,{children:x.length>0&&(0,n.jsx)(eA,{productDetailsData:x[0],configData:o})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[411,9759,3716,4913,2236,3890,1335,7511,1378,746,428,5729,7383,2663,2693,3652,2086,9082,9451,636,6593,8792],()=>t(87580)),_N_E=e.O()}]);