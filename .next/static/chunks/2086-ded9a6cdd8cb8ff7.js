"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2086],{24547:(e,t,r)=>{r.d(t,{k:()=>n});var i=r(42107);let n={placeApiAutocomplete:e=>{if(e&&""!==e)return i.A.get("/api/v1/config/place-api-autocomplete?search_text=".concat(e))},placeApiDetails:e=>i.A.get("/api/v1/config/place-api-details?placeid=".concat(e)),getZoneId:e=>i.A.get("/api/v1/config/get-zone-id?lat=".concat(e.lat,"&lng=").concat(e.lng)),distanceApi:(e,t)=>{if(!e||!t)throw Error("Origin and destination must be provided");return i.A.get("/api/v1/config/distance-api?origin_lat=".concat(e.latitude,"&origin_lng=").concat(e.longitude,"&destination_lat=").concat(t.lat?t.lat:null==t?void 0:t.latitude,"&destination_lng=").concat(t.lng?t.lng:null==t?void 0:t.longitude,"&mode=WALK"))},geoCodeApi:e=>i.A.get("/api/v1/config/geocode-api?lat=".concat(e.lat,"&lng=").concat(e.lng))}},36609:(e,t,r)=>{r.d(t,{A:()=>N});var i=r(37876),n=r(14232),o=r(61087),l=r(60746),a=r(74441),d=r(6995),p=r(49794),c=r(47737),s=r(76776),u=r(75535),x=r(14379),h=r(89037),m=r(82179),g=r(21398),A=r(69434),v=r(66664),j=r(8168),f=r(97914),b=r(70946),y=r(24422),_=r(59208),S=r(26205),C=r(60358),M=r(74695),w=r(50692),k=r(91657),L=r(97685),B=r(89099);let z=(0,x.A)(l.jB)(e=>{let{theme:t}=e;return{background:(0,a.X4)(t.palette.primary.main,.2),padding:"20px 24px",marginTop:"10px",justifyContent:"space-between"}}),W=(0,x.A)(b.A)(e=>{let{theme:t}=e;return{background:t.palette.neutral[100],padding:"11px",borderRadius:"50%"}}),D=e=>{let{deliveryManInfo:t}=e,r=(0,g.u)(),n=(0,B.useRouter)(),{configData:o}=(0,M.d4)(e=>e.configData),l=(0,a.X4)(r.palette.moduleTheme.food,.5),d="".concat(null==t?void 0:t.f_name," ").concat(null==t?void 0:t.l_name);return(0,i.jsxs)(z,{direction:"row",children:[(0,i.jsxs)(m.A,{direction:"row",spacing:1.5,children:[(0,i.jsx)(y.A,{src:null==t?void 0:t.image_full_url}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(p.A,{children:d}),(0,i.jsxs)(p.A,{fontSize:"13px",color:r.palette.neutral[500],children:[(0,i.jsx)("span",{style:{paddingRight:"2px"},children:(0,i.jsx)(C.A,{style:{width:"14px",height:"14px",color:l}})}),null==t?void 0:t.avg_rating]})]})]}),(0,i.jsxs)(m.A,{direction:"row",spacing:1.5,children:[(0,i.jsx)(w.A,{phone:null==t?void 0:t.phone,children:(0,i.jsx)(W,{children:(0,i.jsx)(_.A,{color:"primary",style:{width:"20px",height:"20px"}})})}),(0,i.jsx)(W,{onClick:()=>{if((0,k.g)()){var e,r;n.push({pathname:"/profile",query:{page:"inbox",type:"delivery_man",id:null==t?void 0:t.id,routeName:"delivery_man_id",chatFrom:"true",deliveryman_name:null==(e=deliveryManData)?void 0:e.f_name,deliveryManData_image:null==(r=deliveryManData)?void 0:r.image}})}else L.Ay.error("uyrttgr")},children:(0,i.jsx)(S.A,{style:{width:"20px",height:"20px",color:l}})})]})]})};r(50253);var E=r(98895),I=r(74511),O=r(59361),R=r(10841),T=r.n(R);let U=(0,x.A)(E.A)(e=>{let{theme:t}=e;return{"& .MuiStepConnector-root ":{"& .MuiStepConnector-line":{borderLeftWidth:"2px"}},"& .MuiStepConnector-line":{height:"28px",marginLeft:"-6px",marginBottom:"-11px",marginTop:"-10px"},"& .MuiSvgIcon-root ":{width:"14px",height:"14px",color:t.palette.neutral[100],border:"3px solid",borderColor:t.palette.neutral[400],borderRadius:"50%"},"& .Mui-completed":{borderColor:t.palette.primary.main},"& .MuiStepLabel-label.Mui-completed":{color:t.palette.primary.main},"& .MuiStepConnector-root.Mui-active .MuiStepConnector-line":{borderColor:t.palette.neutral[400]},"& .MuiStepConnector-root.Mui-completed .MuiStepConnector-line":{borderColor:t.palette.primary.main}}}),X=e=>{let{steps:t,activeStep:r}=e;return(0,i.jsx)(U,{orientation:"vertical",activeStep:r,children:null==t?void 0:t.map((e,t)=>(0,i.jsx)(I.A,{children:(0,i.jsx)(O.A,{children:(0,i.jsxs)(m.A,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(p.A,{fontSize:"12px",fontWeight:"400",children:null==e?void 0:e.label}),(0,i.jsx)(p.A,{fontSize:"12px",children:(null==e?void 0:e.time)&&T()(null==e?void 0:e.time).format("D MMM, h:mm A")})]})})},t))})};var F=r(77127),G=r(68028),Z=r(58607);let V={src:"/_next/static/media/empty.fb5e331e.png",height:400,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAPFBMVEV9fX2GhobAwMB2dnZzc3OMjIyCgoK9vb28vLxhYWE5OTlBQUGOjo5kZGS8vLypqamamppoaGjHx8evr6/edZ6iAAAADnRSTlMB/vE6DlbfXvuGb6d61jXFczEAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAA8SURBVHicHcZJEsAgCADBUVFAE1z+/1grOXVD6WP0AnrW3usoGmZmoUieKc0soG2upgAe5p+I+1v/QX24SWoBtZZt604AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var P=r(3513),H=r(52737),K=r(7615);let J=(0,x.A)(h.A)(e=>{let{theme:t}=e;return{borderLeft:"1px dashed",borderColor:(0,a.X4)(t.palette.neutral[500],.5),height:"81px",marginLeft:"8px"}}),N=e=>{var t,r,a,x,h,b,y,_,S,C;let w=(0,g.u)(),L=(0,B.useRouter)(),z=(0,M.wA)();(0,d.A)(w.breakpoints.down("sm"));let[W,E]=(0,n.useState)(null),{sideDrawerOpen:I,orderId:O,setSideDrawerOpen:R,phoneOrEmail:T}=e,[U,N]=(0,n.useState)(1),Y=(0,k.W)(),{error:q,refetch:Q,data:$,isLoading:ee,isRefetching:et}=(0,F.A)(O,T,Y,e=>{E(e)});(0,n.useEffect)(()=>{O&&Q()},[O]),(0,n.useEffect)(()=>{let e=setInterval(()=>{O&&W&&(null==W?void 0:W.order_status)!=="delivered"&&Q()},1e4);return()=>{clearInterval(e)}},[Q]);let er=()=>{(null==$?void 0:$.order_status)==="pending"?N(1):(null==$?void 0:$.order_status)==="confirmed"?N(2):(null==$?void 0:$.order_status)==="picked_up"?N(3):(null==$?void 0:$.order_status)==="delivered"&&N(4)};(0,n.useEffect)(()=>{er()},[U,$,O]);let ei=[{label:"Order Placed",time:null==$?void 0:$.pending},{label:"Order Confirmed",time:null==$?void 0:$.confirmed},{label:"On the Way",time:null==$?void 0:$.picked_up},{label:"Delivered",time:null==$?void 0:$.delivered}],en=()=>{E(null),R(!1)};return(0,i.jsxs)(o.A,{anchor:"right",open:I,onClose:en,variant:"temporary",maxWidth:"420px",width:"100%",height:"100vh",sx:{position:"relative"},children:[(0,i.jsx)(m.A,{direction:"row",spacing:1,alignItems:"center",sx:{position:"absolute",top:"1rem",right:".5rem"},children:(0,i.jsx)(P.$G,{onClick:en,children:(0,i.jsx)(H.A,{fontSize:"16px"})})}),W&&!ee&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.jB,{padding:"30px 24px 0px 24px",children:[(0,i.jsx)(m.A,{justifyContent:"space-between",direction:"row",alignItems:"center",mb:"10px",children:(0,i.jsxs)(p.A,{fontSize:"16px",fontWeight:"600",textAlign:"center",children:["Order ID:"," ",(0,i.jsx)(p.A,{component:"span",fontSize:"16px",fontWeight:"600",children:null==$?void 0:$.id})]})}),(0,i.jsxs)(l.jB,{sx:{position:"relative"},children:[(0,i.jsx)(u.A,{latitude:null==$||null==(t=$.delivery_address)?void 0:t.latitude,longitude:null==$||null==(r=$.delivery_address)?void 0:r.longitude,deliveryManLat:(null==$?void 0:$.order_status)==="picked_up"?null==$||null==(a=$.delivery_man)?void 0:a.lat:null==$||null==(x=$.receiver_details)?void 0:x.latitude,deliveryManLng:(null==$?void 0:$.order_status)==="picked_up"?null==$||null==(h=$.delivery_man)?void 0:h.lng:null==$||null==(b=$.receiver_details)?void 0:b.longitude,defaultControl:!0}),(0,i.jsx)(m.A,{position:"absolute",bottom:"-80px",width:"280px",left:{xs:"5%",sm:"8%",md:"16%"},children:(0,i.jsx)(l.WU,{padding:"10px",children:(0,i.jsxs)(l.jB,{spacing:1.5,direction:"row",alignItems:"center",pl:"10px",children:[(0,i.jsxs)(m.A,{children:[(0,i.jsx)(v.A,{style:{height:"20px",width:"16px"}}),(0,i.jsx)(J,{}),(0,i.jsx)(A.A,{style:{height:"20px",width:"16px"}})]}),(0,i.jsxs)(m.A,{spacing:1,children:[(0,i.jsxs)(m.A,{children:[(0,i.jsx)(p.A,{fontSize:"12px",color:w.palette.primary.main,children:(0,f.t)("Sender")}),(0,i.jsx)(p.A,{fontSize:"16px",children:null==$||null==(y=$.delivery_address)?void 0:y.contact_person_name}),(0,i.jsx)(p.A,{fontSize:"12px",color:w.palette.neutral[400],children:null==$||null==(_=$.delivery_address)?void 0:_.address})]}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(p.A,{fontSize:"12px",color:w.palette.primary.main,children:(0,f.t)("Receiver")}),(0,i.jsx)(p.A,{fontSize:"16px",children:null==$||null==(S=$.receiver_details)?void 0:S.contact_person_name}),(0,i.jsx)(p.A,{fontSize:"12px",color:w.palette.neutral[400],children:null==$||null==(C=$.receiver_details)?void 0:C.address}),"/profile"!==L.pathname&&(0,i.jsx)(c.A,{onClick:()=>{z((0,K.iv)({contact_person_number:T})),L.push({pathname:"/profile",query:{orderId:null==$?void 0:$.id,page:"my-orders",phone:T}},void 0,{shallow:!0})},children:(0,f.t)("View Details")})]})]})]})})})]}),(0,i.jsx)(m.A,{mt:"100px",width:"100%",justifyContent:"center",pl:"50px",pr:"50px",mb:"20px",children:(0,i.jsx)(X,{steps:ei,activeStep:U})}),(0,i.jsx)(j.A,{border:"1px"}),(0,i.jsxs)(l.jB,{justifyContent:"space-between",direction:"row",mt:"10px",children:[(0,i.jsx)(p.A,{fontWeight:"700",color:w.palette.primary.main,children:(0,f.t)("Total")}),(0,i.jsx)(p.A,{fontWeight:"700",color:w.palette.primary.main,children:(0,Z.Yi)(null==$?void 0:$.order_amount)})]})]}),(null==$?void 0:$.delivery_man)&&(0,k.g)()&&(0,i.jsx)(D,{deliveryManInfo:null==$?void 0:$.delivery_man})]}),ee&&(0,i.jsx)(l.jB,{padding:"70px 24px 0px 24px",children:(0,i.jsx)(s.A,{variant:"rectangular",width:"100%",height:"350px"})}),!W&&q&&(0,i.jsx)(l.jB,{padding:"100px 24px 0px 24px",children:(0,i.jsx)(G.A,{image:V,label:"Order not found",height:"100px",width:"100px"})})]})}},50253:(e,t,r)=>{r.d(t,{S:()=>a});var i=r(54773),n=r(98895),o=r(74441),l=r(89037);(0,i.Ay)(l.A)(()=>({padding:"40px 0px 40px 0px",width:"100%"}));let a=(0,i.Ay)(n.A)(e=>{let{theme:t,width:r,height:i,border:n,color:l,marginLeft:a,marginTop:d,connectorHeight:p,parcel:c}=e;return{"& .MuiStepConnector-line":{height:p||"30px",borderColor:(0,o.X4)(t.palette.primary.main,.2),marginLeft:"true"===c&&"20px",marginBottom:"true"===c&&"-43px",[t.breakpoints.down("sm")]:{marginLeft:"true"===c&&"12px"}},"& .MuiStepConnector-root.Mui-active .MuiStepConnector-line":{borderColor:t.palette.primary.main,height:p||"30px"},"& .MuiStepConnector-root.Mui-completed .MuiStepConnector-line":{borderColor:t.palette.primary.main,height:p||"30px"},"& .MuiStepLabel-iconContainer .Mui-active":{marginTop:"0px",width:r||"10px",height:i||"10px",borderRadius:"50%",color:l||t.palette.neutral[100]},"& .MuiStepLabel-iconContainer .Mui-completed":{width:"32px",height:"20px",borderColor:t.palette.primary.main},"& .MuiStepContent-root":{},"& .MuiStepLabel-label":{color:l,fontSize:"13px",marginBottom:"4px",marginLeft:a||"0px",marginTop:d||"0px"},"& .MuiStepLabel-label.Mui-active":{color:l,fontSize:"13px",fontWeight:400},"& .MuiStepLabel-iconContainer ":{width:"32px",height:"20px",borderColor:t.palette.primary.main},"& .MuiStepConnector-root ":{color:t.palette.primary.main,marginLeft:"3px","& .MuiStepConnector-line":{borderLeftWidth:"true"===c?"1px dash":"3px",color:"true"===c?t.palette.neutral[400]:t.palette.primary.main,marginTop:"true"===c?"-18px":"-11px",[t.breakpoints.down("sm")]:{marginTop:"true"===c?"-31px":"-11px"}}},"& .MuiSvgIcon-root":{width:r||"10px",height:i||"10px",color:l||t.palette.neutral[100],border:n||"2px solid",borderColor:t.palette.primary.main,borderRadius:"50%"},"& .MuiStepLabel-root":{padding:"0px"}}})},77127:(e,t,r)=>{r.d(t,{A:()=>p});var i=r(42107),n=r(70190),o=r(1992),l=r(65904),a=r(91657);let d=async(e,t,r)=>{let o=(0,a.g)();try{let l=o?"?order_id=".concat(e):"?order_id=".concat(e,"&guest_id=").concat(r,"&contact_number=").concat(t),{data:a}=await i.A.get("".concat(n.oT).concat(l));return a}catch(e){throw e}};function p(e,t,r,i){return(0,o.useQuery)("track-order-data",()=>d(e,t,r),{onSuccess:i,enabled:!1,retry:1,onError:l.Jm})}},82601:(e,t,r)=>{r.d(t,{A:()=>p});var i=r(37876),n=r(30566),o=r(6995),l=r(49794),a=r(82);let d=e=>{let{text:t,textAlign:r,...d}=e,{t:p}=(0,a.Bd)(),c=(0,n.A)(),s=(0,o.A)(c.breakpoints.down("sm"));return(0,i.jsx)(l.A,{textAlign:r||"center",variant:s?"body2":"subtitle1",lineHeight:"24px",fontWeight:"400",sx:{color:"text.secondary"},...d,children:p(t)})};d.propTypes={};let p=d},87610:(e,t,r)=>{r.d(t,{X:()=>o});var i=r(42107),n=r(91657);let o={placeOrder:e=>i.A.post("/api/v1/customer/order/place",e),prescriptionPlaceOrder:e=>{console.log({orderData:e});let{store_id:t,distance:r,address:o,longitude:l,latitude:a,prescriptionImages:d,order_note:p,guest_id:c,contact_person_name:s,contact_person_number:u,dm_tips:x,order_type:h,payment_method:m}=e,g=new FormData;return g.append("store_id",t),g.append("distance",r),g.append("address",o),g.append("longitude",l),g.append("latitude",a),d.forEach(e=>{g.append("order_attachment[]",e)}),g.append("order_note",p),g.append("guest_id",c),(0,n.g)()||(g.append("contact_person_number",u),g.append("contact_person_name",s)),g.append("dm_tips",x),g.append("order_type",h),g.append("payment_method",m),i.A.post("/api/v1/customer/order/prescription/place",g)},orderHistory:(e,t,r)=>i.A.get("/api/v1/customer/order/".concat(e,"?limit=").concat(t,"&offset=").concat(r)),orderDetails:e=>i.A.get("/api/v1/customer/order/details?order_id=".concat(e)),orderTracking:e=>i.A.get("/api/v1/customer/order/track?order_id=".concat(e)),CancelOrder:e=>i.A.post("/api/v1/customer/order/cancel",e),FailedPaymentMethodUpdate:e=>i.A.post("/api/v1/customer/order/payment-method",e),FailedPaymentMethodCancel:e=>i.A.post("/api/v1/customer/order/cancel",e)}}}]);